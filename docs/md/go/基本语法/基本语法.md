## 	åŸºç¡€çŸ¥è¯†

### 1.å˜é‡å®šä¹‰ç”¨varå®šä¹‰

```
var name string = 'å¼ ä¸‰'

æˆ–è€…ä¸ç”¨é™åˆ¶ç±»å‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ ¹æ®åˆå€¼èµ‹äºˆå˜é‡ç±»å‹
var name = 'å¼ ä¸‰'

ä¹Ÿå¯ä»¥åŒæ—¶å®šä¹‰å¤šä¸ªç±»å‹ï¼Œæ¯”å¦‚
var name, isBoy, age = 'å¼ ä¸‰', true, 18

ä¹Ÿå¯ä»¥è¿™æ ·
var = (
	name = 'å¼ ä¸‰'
	isBoy = true
	age = '18'
)

åœ¨å‡½æ•°å†…éƒ¨å¯ä»¥:=å®šä¹‰å˜é‡ã€‚åœ¨å‡½æ•°å¤–éƒ¨æ˜¯ä¸å¯ä»¥çš„ï¼Œvar å…³é”®å­—åœ¨å‡½æ•°å†…å¤–éƒ½å¯ä»¥å®šä¹‰ã€‚
æ¯”å¦‚ï¼šfunc demo () {
		name := 'å¼ ä¸‰'
		
		isBoy, age := true, 18
}
```



### 2.æ•°æ®ç±»å‹

åˆ†ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¤åˆæ•°æ®ç±»å‹

åŸºæœ¬æ•°æ®ç±»å‹ï¼šint, float, string,bool

å¤åˆæ•°æ®ç±»å‹ï¼šarray, slice,map,function,pointer,channel,listé“¾è¡¨



æ•°ç»„çš„æ•°æ®ç±»å‹ï¼šã€sizeã€‘type,æ¯”å¦‚ï¼švar array1 = [4]int{1,2,3,4},    æ•°æ®ç±»å‹ï¼šåˆ™ä¸º[4]intï¼ˆã€sizeã€‘typeï¼‰



[]byteå­—èŠ‚åˆ‡ç‰‡ çš„ å­˜å‚¨ç©ºé—´

![image-20240621181309852](../../img/image-20240621181309852.png)





#### ç±»å‹è½¬æ¢ 

goæ˜¯ä¸€ç§å¼ºç±»å‹çš„è¯­è¨€ï¼Œæ‰€ä»¥å¦‚æœåœ¨èµ‹å€¼çš„æ—¶å€™ä¸¤è¾¹ç±»å‹ä¸ä¸€è‡´ä¼šæŠ¥é”™ï¼Œå°±è¿intéƒ½åˆ†ä¸ºint,int8,int32,int64è¿™ä¹ˆå¤šç§ã€‚

ä½†åŒä¸€åŸºç¡€ç±»å‹ï¼ˆint,floatï¼‰çš„å˜é‡åœ¨è½¬æ¢æ—¶å¾ˆç®€å•ï¼Œéƒ½å¯ä»¥é€šè¿‡æ‹¬å·æ‹¬èµ·æ¥å³å¯ï¼Œå› ä¸ºä»–ä»¬çš„åº•å±‚éƒ½æ˜¯ä¸€ä¸ªç±»å‹çš„ã€‚

ä½¿ç”¨ `type (a)`è¿™ç§å½¢å¼æ¥è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢,æ¯”å¦‚

```
var a int32  = 10
var b int64 = int64(a)

b := 1.589
c := int(b)
fmt.Println(c)//1
```



#### 2.1åˆ‡ç‰‡

```
var s1 []int //å®šä¹‰äº†ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè¿˜æ²¡æœ‰ç»™å…¶èµ‹å€¼ã€‚æ­¤æ—¶s1æ˜¯nil

s1 := make([]int,0)//å®šä¹‰äº†ä¸€ä¸ªåˆ‡ç‰‡ï¼Œåˆ‡ç‰‡ä¸­æœ‰0ä¸ªå…ƒç´ ã€‚æ­¤æ—¶s1ä¸æ˜¯nil,æ˜¯ä¸€ä¸ªç©ºåˆ‡ç‰‡
æ­¤æ—¶å¦‚æœæƒ³ç»™åˆ‡ç‰‡å¢åŠ å…ƒç´ æ—¶ï¼Œä¸èƒ½é€šè¿‡s1[i] = içš„æ–¹å¼ï¼Œåªèƒ½é€šè¿‡s1=append(s1,i)çš„æ–¹å¼ã€‚å› ä¸ºåˆ‡ç‰‡çš„é•¿åº¦æ˜¯0ï¼Œè·å–ä¸åˆ°s1[i]çš„å€¼ã€‚

s :=[] int {1,2,3}  //å®šä¹‰ä¸”èµ‹å€¼
```

å½“åœ¨å·²æœ‰æ•°ç»„çš„åŸºç¡€ä¸Šï¼Œå®šä¹‰ä¸€ä¸ªåˆ‡ç‰‡

æ¯”å¦‚

![image-20220612162703037](../../img/image-20220612162703037.png)



å¦‚æœå®šä¹‰çš„åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿæ˜¯æ˜¯ä»æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ã€‚æ¯”å¦‚åˆ‡ç‰‡s2ï¼Œé‚£ä¹ˆåˆ‡ç‰‡å‚¨å­˜çš„å†…å­˜åœ°å€ï¼Œå’Œæ•°ç»„ä¸€è‡´ã€‚å¦‚æœå®šä¹‰çš„åˆ‡ç‰‡çš„ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæ•°ç»„çš„ä¸ä¸€æ ·ï¼Œæ¯”å¦‚åˆ‡ç‰‡s1ï¼Œé‚£ä¹ˆåˆ‡ç‰‡å‚¨å­˜çš„åœ°å€å’Œæ•°ç»„çš„åœ°å€ä¼šä¸ä¸€æ ·ã€‚



åˆ‡ç‰‡ç±»å‹çš„å˜é‡ï¼Œå¦‚æœç›´æ¥ç”¨fmt.Printf("%p\n",s2)è¾“å‡ºæ ¼å¼åŒ–çš„å˜é‡æ—¶ï¼Œä¼šè¾“å‡ºåˆ‡ç‰‡åº•å±‚å‚¨å­˜æ•°ç»„çš„å†…å­˜åœ°å€ã€‚å¦‚æœåŠ ä¸Š&ä»£è¡¨å–å˜é‡çš„åœ°å€ç¬¦ï¼Œä¼šå–åˆ°åˆ‡ç‰‡å˜é‡æœ¬èº«åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚

![image-20220612163718739](../../img/image-20220612163718739.png)

åˆ‡ç‰‡çš„å‚¨å­˜

![image-20220612164333746](../../img/image-20220612164333746.png)



appendå‡½æ•°æ˜¯åœ¨åˆ‡ç‰‡çš„åŸºç¡€ä¸Šè¿½åŠ ä¸€ä¸ªå…ƒç´ ã€‚



![image-20220728173429767](../../img/image-20220728173429767.png)



##### åˆ‡ç‰‡å¤åˆ¶ 

å¦‚æœæƒ³è·å–ä¸€ä¸ªåˆ‡ç‰‡çš„å…ƒç´ ï¼Œå¹¶ä¸”ä¸å—åç»­åˆ‡ç‰‡æ”¹å˜å¸¦æ¥çš„å½±å“ï¼Œå¯ä»¥å€ŸåŠ©appendå‡½æ•°

```go
append([]int(nil),*dp...)

*dpTotal = append(*dpTotal, append([]int(nil), *dp1...))//å¦‚æœåç»­*dp1æ”¹å˜äº†ï¼Œä¸ä¼šå½±å“dpTotal
*dpTotal = append(*dpTotal,*dp1)//å¦‚æœåç»­*dp1æ”¹å˜äº†ï¼Œä¼šç›´æ¥å½±å“dpTotalï¼Œå› ä¸ºä»–æ˜¯æŠŠå†…å­˜åœ°å€ä»è¿›å»äº†dpTotal

```





å¦‚æœæƒ³å¤åˆ¶ä¸€ä¸ªåˆ‡ç‰‡ï¼Œä½¿ç”¨copyå³å¯ã€‚

```go
//ä¸æƒ³è®©arrå—åˆ°æ’åºçš„å½±å“ï¼Œæ‰€ä»¥ä½¿ç”¨copyå°†ï¼Œarrå¤åˆ¶ä¸€ä»½å‡ºæ¥ç»™tmpã€‚
func getMaxValue(arr []int) int {
	tmp := make([]int, len(arr))
	copy(tmp, arr)
	sort.Ints(tmp)
	return tmp[len(tmp)-1]
}
```

mapè½¬åˆ‡ç‰‡æ—¶ï¼šé˜»æ­¢åˆ‡ç‰‡è‡ªåŠ¨æ‰©å®¹ï¼Œæ¥èŠ‚çœæ€§èƒ½

```
resSlice := make([]string, 0, len(resMap))
	//fmt.Println(len(resSlice),cap(resSlice))
	for k, _ := range resMap {
		resSlice = append(resSlice, k)
	}
	
	è¿™æ ·å­ï¼Œåˆ‡ç‰‡ä¸ä¼šè‡ªåŠ¨æ‰©å®¹ï¼Œåˆ‡ç‰‡é•¿åº¦å°±æ˜¯len(resMap)
	
```



1.åˆ‡ç‰‡åº•å±‚åŸç†

åˆ‡ç‰‡æœ¬è´¨ä¸Šï¼Œè¿˜æ˜¯å€¼ä¼ é€’ã€‚åº•å±‚æ˜¯ä¸€ä¸ªstruct ç»“æ„ä½“ã€‚å½“è¿›è¡Œä¼ é€’æ—¶ï¼Œä¼šæŠŠå¤åˆ¶ä¸€ä¸ªç»“æ„ä½“ï¼ŒæŒ‡å‘åº•å±‚çš„åŒä¸€ä¸ªæ•°ç»„ã€‚æ¯”å¦‚s1å’Œs2ã€‚s1èµ‹å€¼ç»™s2ï¼Œæ­¤æ—¶ä»–ä»¬éƒ½æŒ‡å‘äº†åº•å±‚åŒä¸€ä¸ªæ•°ç»„ã€‚å½“s2ä¸åœç‚¹appendæ—¶ï¼Œä¼šè§¦å‘æ‰©å®¹ï¼Œæ­¤æ—¶ä¼šæŠŠs1åº•å±‚æŒ‡å‘çš„æ•°ç»„å¤åˆ¶ä¸€ä»½å‡ºæ¥ï¼ŒæŒ‡å‘æœ€æ–°çš„æ•°ç»„ã€‚æ­¤æ—¶æ”¹äº†s2çš„æŸä¸ªå€¼ï¼Œs1ä¸ä¼šæ”¹å˜ã€‚åº•å±‚æ•°ç»„512ä¹‹åä¸æ˜¯æˆå€æ‰©å®¹



#### 2.2å­—ç¬¦ä¸²

å­—ç¬¦ä¸²ä¸èƒ½ä¿®æ”¹

![image-20220612180927782](../../img/image-20220612180927782.png)

å­—ç¬¦ä¸²å…¶å®æ˜¯å­—èŠ‚çš„é›†åˆ

![image-20220612181214854](../../img/image-20220612181214854.png)

ä¸è¿‡å¯ä»¥é€šè¿‡æ ¼å¼åŒ–æ‰“å°æ¥å±•ç¤ºç¼–ç å¯¹åº”çš„æ•°å€¼

```
fmt.Printf("%c",string1[0]) // è¾“å‡ºh
fmt.Printf("%c",104) // è¾“å‡ºh
```



#### 2.3å‡½æ•°æ•°æ®ç±»å‹

![image-20220613170935941](../../img/image-20220613170935941.png)

å‡½æ•°æ˜¯æ•°æ®ç±»å‹æ˜¯ï¼šfunc (int),  å¦‚æœæ˜¯åªå†™å‡½æ•°åï¼Œæ²¡æœ‰å°æ‹¬å·åˆ™å–çš„æ˜¯å‡½æ•°çš„å†…å­˜åœ°å€ã€‚



#### 2.4æŒ‡é’ˆ

ä»€ä¹ˆæ˜¯æŒ‡é’ˆï¼Ÿå°±æ˜¯ä¸€ä¸ªå­˜å‚¨äº†çš„å†…å­˜åœ°å€çš„å˜é‡

æŒ‡é’ˆå®šä¹‰ï¼š var p *int   ä»£è¡¨æŒ‡é’ˆpæ˜¯éœ€è¦æŒ‡å‘ä¸€ä¸ªæ•´å‹å˜é‡çš„æŒ‡é’ˆã€‚å…¶ä¸­intå¯ä»¥æ¢æˆå…¶ä»–æ•°æ®ç±»å‹

var a = 10

p = &a //ä»£è¡¨æŒ‡é’ˆpæŒ‡å‘äº†å˜é‡açš„å†…å­˜åœ°å€



![image-20230806185842291](../../img/image-20230806185842291.png)



å½“å˜é‡ä¼ é€’æ—¶ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¼šæ˜¯å€¼ä¼ é€’ï¼Œæ­¤æ—¶å¯ä»¥è€ƒè™‘æ˜¯å¦èƒ½ç”¨æŒ‡é’ˆçš„å½¢å¼ï¼Œè¿›è¡Œä¼ é€’ï¼Œå› ä¸ºå€¼ä¼ é€’ä¼šæ‹·è´ä¸€ä»½å˜é‡å‡ºæ¥ï¼Œå†è¿›è¡Œä¼ é€’ï¼Œæ•ˆç‡æ²¡æœ‰é‚£ä¹ˆé«˜ï¼Œç‰¹åˆ«æ—¶å˜é‡å ç”¨çš„å†…å­˜æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œæ¯”è¾ƒæµªè´¹æ€§èƒ½ã€‚æ­¤æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨æŒ‡é’ˆã€‚

```go
package main

import "fmt"

func main() {
	var a = 10
	var p *int
	p = &a

	fmt.Println(p,a) //æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œaçš„å€¼
	fmt.Println(&p) //å­˜å‚¨æŒ‡é’ˆçš„å†…å­˜åœ°å€
	fmt.Print(*p) // æŒ‡é’ˆåŠ ä¸Š*å·ï¼Œå°±ä»£è¡¨è®¿é—®å˜é‡a
}

//è¾“å‡º
0x1400012c008 10
0x14000126018
10

```

![image-20230806183751040](../../img/image-20230806183751040.png)

å½“æŒ‡é’ˆæŒ‡å‘äº†ä¸€ä¸ªç»“æ„ä½“çš„æ—¶å€™ï¼Œä¸ç”¨*å·ï¼Œå¯ä»¥ç›´æ¥p.nameè®¿é—®ï¼Œå› ä¸ºgoåšäº†ä¼˜åŒ–ã€‚å¦‚ä¸Šå›¾ã€‚

ç±»å‹ä¸ºæŒ‡é’ˆçš„æ•°ç»„ï¼ˆç®€ç§°ä¸ºæŒ‡é’ˆæ•°ç»„ï¼‰

```
	arr1 := [3]int{1,2,3}
	p1 := &arr1

	// å…¶ä¸­(*p1)å¯ä»¥ç®€å†™æˆp1
	(*p1)[1] = 100
	fmt.Println(arr1)
	p1[1] = 200
	fmt.Println(arr1)
```



åœ¨cä¸­æŒ‡é’ˆå¯ä»¥è¿ç®—çš„ï¼Œè¿™ä¸ªèƒ½åŠ›goæœ‰å¯ä»¥ï¼Œåªæ˜¯æ”¾åœ¨unsafeåŒ…ä¸­ã€‚å°‘æ•°æƒ…å†µä¸‹ä¼šç”¨åˆ°ã€‚

![image-20230806185147553](../../img/image-20230806185147553.png)



##### æŒ‡é’ˆå‘½åè§„èŒƒ 

å–é¦–å­—æ¯å°å†™ï¼Œä½œä¸ºæŒ‡é’ˆçš„å‘½å

```
typer Person struct {
	name string
	age int
}

typer PersonBoy struct {
	name string
	age int
}

p := new(Person)
pb := new(Person)


func (pn *Person) get(a int,b int) (int,error) {
	//
}
```



#### 2.5ç»“æ„ä½“

ç»“æ„ä½“æ˜¯ä¸€ç§å¯ä»¥å‚¨å­˜ï¼Œä¸åŒæ•°æ®ç±»å‹æ•°æ®æ„æˆçš„æ•°æ®é›†åˆï¼Œæ„æˆç»“æ„ä½“çš„ä¸€ç³»åˆ—æ•°æ®ç§°ä¸ºæˆå‘˜å˜é‡ï¼Œä¹Ÿç§°å­—æ®µã€‚

å®šä¹‰æ–¹å¼

![image-20220615094333596](../../img/image-20220615094333596.png)

```go
package main

import "fmt"

func main() {

//ä¸‰ç§å®šä¹‰æ–¹å¼ï¼Œå¦‚ä¸‹
	//1
	var person1  = Person{}
	person1.name = "allen"
	person1.age = 20
	person1.address = "china"

	//2
	person2 := Person{
		name:"allen",
		age:20,
		address:"china",
	}

	//3
	person3 := Person{"allen",20,"china"}
	fmt.Print(person1)
	fmt.Print(person2)
	fmt.Print(person3)
}

type Person struct {
	name string
	age int
	address string
}


//{allen 20 china}{allen 20 china}{allen 20 china}
```

ç»“æ„ä½“è¿˜å¯ä»¥åµŒå¥—ï¼Œæ¯”å¦‚

```
var person1  = Person{}
person1.name = "allen"
person1.age = 20

address := Address{
   city: "shenzhen",
   home: "512",
}
person1.address = address

fmt.Println(person1)

//{allen 20 {shenzhen 512}}

```



åŒ¿åç»“æ„ä½“

```
åŒ¿åç»“æ„ä½“
s1 := struct {
		name string
		age int
	}{
		"mike",
		20,
	}
```



åŒ¿åå­—æ®µ

â€‹	**//person1.city = "china" å½“åŒ¿åå­—æ®µæ˜¯ä¸€ä¸ªç»“æ„ä½“æ—¶ï¼Œå¯ä»¥ç®€å†™ï¼Œåªèƒ½.æ‹¼æ¥ä¸Šå¯¹åº”çš„å±æ€§**

```go
package main

import "fmt"

func main() {
	var person1  = Person{}
	person1.name = "allen"
	person1.age = 20
	person1.Address.city = "china"
	//person1.city = "china" å½“åŒ¿åå­—æ®µæ˜¯ä¸€ä¸ªç»“æ„ä½“æ—¶ï¼Œå¯ä»¥ç®€å†™ï¼Œåªèƒ½.æ‹¼æ¥ä¸Šå¯¹åº”çš„å±æ€§
	person1.home = "512"

	fmt.Println(person1)
}

type Person struct {
	name string
	age int
	Address	
}

type Address struct {
	city string
	home string
}

//{allen 20 {china 512}}

```

ç»“æ„ä½“æŒ‡é’ˆï¼Œå¯ä»¥ç®€å†™

â€‹	**ä¸‹é¢çš„(*p5) å¯ä»¥ç®€å†™æˆp5**

```
	var person1  = Person{}
	person1.name = "allen"
	person1.age = 20
	person1.address = "china"
	
	p5 := &person1
	fmt.Println(p5)

	//*p5.name = "boy" è¿™æ ·ä¼šæŠ¥é”™ï¼Œè¦åŠ å°æ‹¬å·å˜æˆ(*p5).name
	(*p5).name = "boy"
	fmt.Println(*p5)
	fmt.Println(person1)

	//(*p5) å¯ä»¥ç®€å†™æˆp5
	p5.name = "girl"
	fmt.Println(*p5)
	fmt.Println(person1)
	
	
```



##### ç©ºç»“æ„ä½“

åœ¨ Go è¯­è¨€ä¸­ï¼Œ`struct{}{}` è¡¨ç¤ºä¸€ä¸ªç©ºç»“æ„ä½“ï¼ˆempty structï¼‰ã€‚ç©ºç»“æ„ä½“ä¸åŒ…å«ä»»ä½•å­—æ®µï¼Œå› æ­¤ä¸å ç”¨ä»»ä½•å†…å­˜ç©ºé—´ï¼Œå¸¸ç”¨äºé‚£äº›éœ€è¦ç±»å‹ä½†ä¸éœ€è¦å­˜å‚¨æ•°æ®çš„åœºæ™¯ã€‚

åœ¨æ‚¨æä¾›çš„ä»£ç ç‰‡æ®µä¸­ï¼Œ`struct{}{}` è¢«ç”¨äºä¸€ä¸ªæ˜ å°„ï¼ˆmapï¼‰çš„å€¼ï¼Œè¿™æ˜¯ä¸€ç§å¸¸è§çš„ç”¨æ³•ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦é›†åˆï¼ˆsetï¼‰çš„åœºæ™¯ä¸­ï¼Œä½† Go è¯­è¨€æœ¬èº«ä¸ç›´æ¥æ”¯æŒé›†åˆç±»å‹ã€‚

```go
//removeDuplicateElement åˆ é™¤æ•°ç»„é‡å¤å…ƒç´ ...
func (that Mp) RemoveDuplicateElement(originals interface{}) (interface{}, error) {
	temp := map[string]struct{}{}
	switch slice := originals.(type) {
	case []string:
		result := make([]string, 0, len(originals.([]string)))
		for _, item := range slice {
			key := fmt.Sprint(item)
			if _, ok := temp[key]; !ok {
				temp[key] = struct{}{}
				result = append(result, item)
			}
		}
		return result, nil
	case []int64:
		result := make([]int64, 0, len(originals.([]int64)))
		for _, item := range slice {
			key := fmt.Sprint(item)
			if _, ok := temp[key]; !ok {
				temp[key] = struct{}{}
				result = append(result, item)
			}
		}
		return result, nil
	default:
		return nil, errors.New("Unknown type...")
	}
}
```



#### 2.6é›†åˆmap

#### åˆ¤æ–­æŸä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªæ•°æ®ç±»å‹æ–­è¨€

#### åˆ¤æ–­mapä¸­ï¼Œæ˜¯å¦å«æœ‰å¯¹åº”çš„å­—æ®µ

```go
string1 := map[string]interface{}{"string":"1","name":"mike"}

	fmt.Println(string1)
	fmt.Printf("%T",string1)

	v,ok := string1["string"]//åˆ¤æ–­string1å˜é‡ä¸­æ˜¯å¦å«æœ‰stringå­—æ®µ
	if !ok {
		fmt.Println("æ²¡æœ‰string")
	} else {
		fmt.Println("æœ‰string")
		fmt.Println(v)
	}

	if n, ok := v.(int); ok{//åˆ¤æ–­æ˜¯ç±»å‹æ˜¯å¦æ˜¯int
		fmt.Println(n)
	} else {
		fmt.Println("vçš„ç±»å‹ä¸æ˜¯int")
	}


//åˆ¤æ–­interface{}æ˜¯ä»€ä¹ˆç±»å‹
switch vv := v.(type) {
		case *bodyXml:
			fn, err := setBodyXml(req, resp, r.xmlEncOpts, vv.v)
			if err != nil {
				return nil, err
			}
			delayedFunc = append(delayedFunc, fn)
		case url.Values:
			p := param{vv}
			if method == "GET" || method == "HEAD" {
				queryParam.Copy(p)
			} else {
				formParam.Copy(p)
			}
		case Param:
			if method == "GET" || method == "HEAD" {
				queryParam.Adds(vv)
			} else {
				formParam.Adds(vv)
			}
		case error:
			return nil, vv
		}



//è¿”å›token
		//_value := _response.Get("token")  //return interface{}
		//var _token string
		//switch valueType := _value.(type) {
		//case string:
		//	_token = valueType
		//default:
		//	_token = ""
		//}

		_value := _response.Get("token")
		var _token string
		v, ok := _value.(string)
		if ok {
			_token = v
		} else {
			//ä¸æ˜¯stringï¼Œ
			_token = ""
		}

		return _token
```



mapè½¬åˆ‡ç‰‡æ—¶ï¼šé˜»æ­¢åˆ‡ç‰‡è‡ªåŠ¨æ‰©å®¹ï¼Œæ¥èŠ‚çœæ€§èƒ½

```go
resSlice := make([]string, 0, len(resMap))
	//fmt.Println(len(resSlice),cap(resSlice))
	for k, _ := range resMap {
		resSlice = append(resSlice, k)
	}
	
	è¿™æ ·å­ï¼Œåˆ‡ç‰‡ä¸ä¼šè‡ªåŠ¨æ‰©å®¹ï¼Œåˆ‡ç‰‡é•¿åº¦å°±æ˜¯len(resMap)
```



#### 2.7æ•°ç»„

åˆå§‹åŒ–ä¸€ä¸ªæœ‰é•¿åº¦çš„äºŒç»´åˆ‡ç‰‡

```
dp := make([][]int, length)
	for i := 0; i < 10; i++ {
		dp[i] = make([]int, length1)
	}
```







### 3.å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’

å¼•ç”¨ä¼ é€’ï¼šæŠŠå†…å­˜åœ°å€ä¼ é€’ç»™äº†å¦å¤–ä¸€ä¸ªå˜é‡ã€‚å±äºå¼•ç”¨ä¼ é€’çš„æ•°æ®ç±»å‹æ˜¯ï¼šsliceï¼Œmap,channel

å€¼ä¼ é€’ï¼šæŠŠå˜é‡çš„å€¼ï¼Œå¤åˆ¶äº†ä¸€ä»½ï¼Œä¼ é€’ç»™äº†å¦å¤–ä¸€ä¸ªå˜é‡ã€‚å±äºå€¼ä¼ é€’çš„æ•°æ®ç±»å‹æ˜¯ï¼šintï¼Œ floatï¼Œboolï¼Œstringï¼Œarray









### 5.deferå…³é”®å­— å»¶è¿Ÿæ‰§è¡Œ

ç”¨äºå»¶è¿Ÿä¸€æ®µä»£ç çš„æ‰§è¡Œã€‚é€‚ç”¨åœºæ™¯ï¼šæ‰“å¼€æ–‡ä»¶åï¼Œå¯ä»¥defer closeæ“ä½œ ç»§ç»­è¯»å’Œå†™ã€‚é˜²æ­¢å¿˜è®°closeæ–‡ä»¶èµ„æºã€‚defer closeä¼šåœ¨å¤–å›´å‡½æ•°å³å°†ç»“æŸæ—¶ï¼Œæ‰§è¡Œã€‚

æ³¨æ„äº‹é¡¹

1.å½“å¤–å›´å‡½æ•°ä¸­çš„è¯­å¥æ­£å¸¸æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œåªæœ‰å…¶å®æ‰€æœ‰çš„å»¶è¿Ÿå‡½æ•°éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œå¤–å›´å‡½æ•°æ‰ä¼šçœŸæ­£çš„ç»“æŸæ‰§è¡Œã€‚

2.å½“å¤–å›´å‡½æ•°ä¸­çš„returnè¯­å¥æ—¶ï¼Œåªæœ‰deferå»¶è¿Ÿçš„å‡½æ•°éƒ½æ‰§è¡Œå®Œæ—¶ï¼Œæ‰ä¼šçœŸæ­£çš„è¿”å›

3.å½“å¤–å›´å‡½æ•°ä¸­å¼•å‘panicé”™è¯¯æ—¶ï¼Œåªæœ‰å½“å»¶è¿Ÿçš„å‡½æ•°éƒ½æ‰§è¡Œå®Œæ—¶ï¼Œpanicæ‰ä¼šçœŸæ­£çš„æ‰©å±•è‡³è°ƒç”¨çš„å‡½æ•°ã€‚



![image-20220613115208319](../../img/image-20220613115208319.png)

å› ä¸ºdeferçš„å»¶è¿Ÿæ‰§è¡Œï¼Œæ˜¯å»¶è¿Ÿå‡½æ•°å†…éƒ¨ä»£ç æ®µæ®µæ‰§è¡Œã€‚å®å‚å’Œå½¢å‚çš„èµ‹å€¼æ˜¯ä¸ä¼šå»¶è¿Ÿçš„ã€‚æ‰€ä»¥deferæ—¶ï¼Œå½“æ—¶aç­‰äº1,å·²ç»æŠŠaä¼ ç»™äº†å‡½æ•°get1ï¼Œget1ä¸­çš„aå·²ç»æ—¶1äº†ã€‚è€Œget1å»¶è¿Ÿæ‰§è¡Œäº†ã€‚æ‰€ä»¥å…ˆæ‰§è¡Œäº†a++ï¼Œè¾“å‡ºäº†2ï¼Œå†æ‰§è¡Œget1ï¼Œè¾“å‡º1.



deferçš„5å¤§ç‰¹æ€§

1.å…ˆè¿›åå‡º

![image-20240613140714944](../../img/image-20240613140714944.png)

å…ˆæ‰“å¼€çš„èµ„æºï¼Œå¯èƒ½è¢«åç»­çš„ä»£ç ï¼Œä¾èµ–ï¼Œæ‰€ä»¥å…ˆdeferçš„æœ€åæ‰§è¡Œä¹Ÿåˆç†ã€‚



2.deferä½œç”¨åŸŸä»…ä¸ºå½“å‰å‡½æ•°

![image-20240613141010541](../../img/image-20240613141010541.png)



3.deferåçš„å‡½æ•°å½¢å‚åœ¨å£°æ˜æ—¶ç¡®è®¤

![image-20240613141211037](../../img/image-20240613141211037.png)



å½¢å‚æ˜¯æŒ‡é’ˆç±»å‹çš„ï¼Œæ‰€ä»¥ä¼ è¿›å»çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥æœ€åæ‰§è¡Œdeferæ—¶ï¼Œä¼šæ‹¿åˆ°æŒ‡é’ˆå¯¹åº”çš„å€¼

![image-20240613141317278](../../img/image-20240613141317278.png)





å…¶ä¸­çš„numæ²¡æœ‰é€šè¿‡å½¢å‚çš„æ–¹å¼ä¼ è¿›å»ï¼Œè€Œä¸”åœ¨æœ€ådeferæ‰§è¡Œæ—¶å»è·å–å…¨å±€å˜é‡numã€‚æ‰€ä»¥æœ€ådeferæ‰§è¡Œæ—¶ä¼š

å‡ºç°num=10

![image-20240613141545901](../../img/image-20240613141545901.png)



4 return ä¸ deferçš„æ‰§è¡Œé¡ºåºæ˜¯ï¼š returnå…ˆï¼Œdeferå

å‡½æ•°è¿”å›è¿‡ç¨‹
æœ‰ä¸€ä¸ªäº‹å®å¿…é¡»è¦äº†è§£ï¼Œå…³é”®å­—returnä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œå®é™…ä¸Šreturnåªä»£ç†æ±‡ç¼–æŒ‡ä»¤retï¼Œå³å°†è·³è½¬ç¨‹åºæ‰§è¡Œã€‚æ¯”å¦‚è¯­å¥return iï¼Œå®é™…ä¸Šåˆ†ä¸¤æ­¥è¿›è¡Œï¼Œå³å°†iå€¼å­˜å…¥æ ˆä¸­ä½œä¸ºè¿”å›å€¼ï¼Œç„¶åæ‰§è¡Œè·³è½¬ï¼Œè€Œdeferçš„æ‰§è¡Œæ—¶æœºæ­£æ˜¯è·³è½¬å‰ï¼Œæ‰€ä»¥è¯´deferæ‰§è¡Œæ—¶è¿˜æ˜¯æœ‰æœºä¼šæ“ä½œè¿”å›å€¼çš„ã€‚



![image-20240613142024050](../../img/image-20240613142024050.png)



num ä¸€å¼€å§‹è¢« è¿”å›å€¼çš„ç±»å‹å®šä¹‰æˆäº† æ•´å‹çš„é»˜è®¤å€¼0ï¼Œç„¶ånum = 10 , ä»0å˜æˆ10, ç„¶å return 2 ,ä»10å˜æˆ2ï¼Œ

ç„¶åæ‰§è¡Œdeferï¼Œå› ä¸ºæ²¡æœ‰å½¢å‚ï¼Œèµ°çš„å…¨å±€å˜é‡æ­¤æ—¶deferä¸­çš„numå–å€¼æ˜¯2ï¼Œ2+5 = 7ã€‚ç„¶åå‡½æ•°çœŸæ­£çš„ç»“æŸï¼Œnum=7è¿”å›äº†ã€‚

![image-20240613142450643](../../img/image-20240613142450643.png)



![image-20240613142904295](../../img/image-20240613142904295.png)



5.panic æ—¶ å·²å£°æ˜çš„deferä¼šå‡ºæ ˆæ‰§è¡Œ



![image-20240613143019916](../../img/image-20240613143019916.png)



æ­£æ˜¯åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå¯ä»¥åœ¨panicä¹‹å‰ä½¿ç”¨deferå‡½æ•°ï¼Œåœ¨deferä¸­ä½¿ç”¨recoverå‡½æ•°ï¼Œæ•è·é”™è¯¯ï¼Œé˜²æ­¢ç¨‹åºå´©æºƒã€‚

![image-20240613143138479](/Users/zwl/Documents/note/docs/md/img/image-20240613143138479.png)



1.å‡½æ•°è¿”å›è¿‡ç¨‹
æœ‰ä¸€ä¸ªäº‹å®å¿…é¡»è¦äº†è§£ï¼Œå…³é”®å­—returnä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œå®é™…ä¸Šreturnåªä»£ç†æ±‡ç¼–æŒ‡ä»¤retï¼Œå³å°†è·³è½¬ç¨‹åºæ‰§è¡Œã€‚æ¯”å¦‚è¯­å¥return iï¼Œå®é™…ä¸Šåˆ†ä¸¤æ­¥è¿›è¡Œï¼Œå³å°†iå€¼å­˜å…¥æ ˆä¸­ä½œä¸ºè¿”å›å€¼ï¼Œç„¶åæ‰§è¡Œè·³è½¬ï¼Œè€Œdeferçš„æ‰§è¡Œæ—¶æœºæ­£æ˜¯è·³è½¬å‰ï¼Œæ‰€ä»¥è¯´deferæ‰§è¡Œæ—¶è¿˜æ˜¯æœ‰æœºä¼šæ“ä½œè¿”å›å€¼çš„ã€‚

ä¸¾ä¸ªå®é™…çš„ä¾‹å­è¿›è¡Œè¯´æ˜è¿™ä¸ªè¿‡ç¨‹ï¼š

func deferFuncReturn() (result int) {
    i := 1
    defer func() {
       result++
    }()
    return i
}
è¯¥å‡½æ•°çš„returnè¯­å¥å¯ä»¥æ‹†åˆ†æˆä¸‹mainä¸¤è¡Œï¼š

result = i
return


è€Œå»¶è¿Ÿå‡½æ•°çš„æ‰§è¡Œæ­£æ˜¯åœ¨returnä¹‹å‰ï¼Œå³åŠ å…¥deferåçš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š

result = i
result++
return

æ‰€ä»¥ä¸Šé¢å‡½æ•°å®é™…è¿”å›i++å€¼ã€‚ 

è¿”å›2





å…³äºä¸»å‡½æ•°æœ‰ä¸åŒçš„è¿”å›æ–¹å¼ï¼Œä½†è¿”å›æœºåˆ¶å°±å¦‚ä¸Šæœºä»‹ç»æ‰€è¯´ï¼Œåªè¦æŠŠreturnè¯­å¥æ‹†å¼€éƒ½å¯ä»¥å¾ˆå¥½çš„ç†è§£ï¼Œä¸‹é¢åˆ†åˆ«ä¸¾ä¾‹è¯´æ˜

2.ä¸»å‡½æ•°æ‹¥æœ‰åŒ¿åè¿”å›å€¼ï¼Œè¿”å›å­—é¢å€¼
ä¸€ä¸ªä¸»å‡½æ•°æ‹¥æœ‰ä¸€ä¸ªåŒ¿åçš„è¿”å›å€¼ï¼Œè¿”å›æ—¶ä½¿ç”¨å­—é¢é‡ï¼Œæ¯”å¦‚è¿”å›â€œ1â€ã€â€œ2â€ã€â€œhelloâ€è¿™æ ·çš„å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹deferè¯­å¥æ˜¯æ— æ³•æ“ä½œè¿”å›å€¼çš„ã€‚
ä¸€ä¸ªè¿”å›å­—é¢å€¼çš„å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

func foo() int {
    var i int
    defer func() {
        i++
    }()
    return 1
}


ä¸Šé¢çš„returnè¯­å¥ï¼Œç›´æ¥æŠŠ1å†™å…¥æ ˆä¸­ä½œä¸ºè¿”å›å€¼ï¼Œå»¶è¿Ÿå‡½æ•°æ— æ³•æ“ä½œè¯¥è¿”å›å€¼ï¼Œæ‰€ä»¥å°±æ— æ³•å½±å“è¿”å›å€¼ã€‚

è¿”å›1





3ä¸»å‡½æ•°æ‹¥æœ‰åŒ¿åè¿”å›å€¼ï¼Œè¿”å›å˜é‡
ä¸€ä¸ªä¸»å‡½æ•°æ‹¥æœ‰ä¸€ä¸ªåŒ¿åçš„è¿”å›å€¼ï¼Œè¿”å›ä½¿ç”¨æœ¬åœ°æˆ–å…¨å±€å˜é‡ï¼Œè¿™ç§æƒ…å†µä¸‹deferè¯­å¥å¯ä»¥å¼•ç”¨åˆ°è¿”å›å€¼ï¼Œä½†ä¸ä¼šæ”¹å˜è¿”å›å€¼ã€‚
ä¸€ä¸ªè¿”å›æœ¬åœ°å˜é‡çš„å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

func foo() int {
    var i int
    defer func() {
        i++
    }()
    return i
}

å› ä¸ºæ˜¯åŒ¿åè¿”å›å€¼ æ‰€ä»¥å’Œiæ²¡å…³ç³» ã€‚ä¸Šé¢çš„å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼ŒåŒæ—¶deferå‡½æ•°ä¹Ÿä¼šæ“ä½œè¿™ä¸ªå±€éƒ¨å˜é‡ã€‚å¯¹äºåŒ¿åè¿”å›å€¼æ¥è¯´ï¼Œå¯ä»¥å‡å®šä»ç„¶æœ‰ä¸€ä¸ªå˜é‡å­˜å‚¨è¿”å›å€¼ï¼Œå‡å®šè¿”å›å€¼å˜é‡ä¸ºâ€anonyâ€ï¼Œä¸Šé¢çš„è¿”å›è¯­å¥å¯ä»¥æ‹†åˆ†æˆä»¥ä¸‹è¿‡ç¨‹ï¼š

anony = i
i++
return

è¿”å›0 

ç”±äºiæ˜¯æ•´å‹ï¼Œä¼šå°†å€¼æ‹·è´ç»™anonyï¼Œæ‰€ä»¥deferè¯­å¥ä¸­ä¿®æ”¹iå€¼ï¼Œå¯¹å‡½æ•°è¿”å›å€¼ä¸é€ æˆå½±å“ã€‚







4ä¸»å‡½æ•°æ‹¥æœ‰å…·åè¿”å›å€¼
ä¸»å‡½å£°æ˜è¯­å¥ä¸­å¸¦åå­—çš„è¿”å›å€¼ï¼Œä¼šè¢«åˆå§‹åŒ–æˆä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå‡½æ•°å†…éƒ¨å¯ä»¥åƒä½¿ç”¨å±€éƒ¨å˜é‡ä¸€æ ·ä½¿ç”¨è¯¥è¿”å›å€¼ã€‚å¦‚æœdeferè¯­å¥æ“ä½œè¯¥è¿”å›å€¼ï¼Œå¯èƒ½ä¼šæ”¹å˜è¿”å›ç»“æœã€‚
ä¸€ä¸ªå½±å“è¿”å›å€¼çš„ä¾‹å­ï¼š

func foo() (ret int) {
    defer func() {
        ret++
    }()
    return 0
}
ä¸Šé¢çš„å‡½æ•°æ‹†è§£å‡ºæ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

ret = 0
ret++
return
å‡½æ•°çœŸæ­£è¿”å›å‰ï¼Œåœ¨deferä¸­å¯¹è¿”å›å€¼åšäº†+1æ“ä½œï¼Œæ‰€ä»¥å‡½æ•°æœ€ç»ˆè¿”å›1ã€‚

### 6.typeå…³é”®å­—

#### 1.å®šä¹‰æ•°æ®ç±»å‹

#### 2.ç»™æ•°æ®ç±»å‹èµ·åˆ«å

```go
package main

import (
	"fmt"
)

func main() {

	var int1 myInt = 10
  
	var int3 intName = 11
  
	var int2 = 10
  
	int2 = int3 //ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºåªæ˜¯int3çš„æ•°æ®ç±»å‹æ˜¯intName,è€ŒintNameåªæ˜¯intçš„åˆ«å
  
	//int1 = int2 //ä¼šæŠ¥é”™cannot use int2 (variable of type int) as type myInt in assignmentã€‚å› ä¸ºint1çš„æ•°æ®ç±»å‹æ˜¯myInt,è€Œint2çš„æ•°æ®ç±»å‹æ˜¯intï¼Œæ‰€ä»¥ä¼šæŠ¥é”™
  
  fun1 := demo()
	fmt.Println(fun1(1))
}

func demo() func(int) string {
	fun := func (a int) string {
		fmt.Println(a)
		return  "ok"
	}
	return fun
}

func demo()ä¸­çš„func(int) stringå¯ä»¥ç®€å†™æˆmyFun

func demo() myFun {
	fun := func (a int) string {
		fmt.Println(a)
		return  "ok"
	}
	return fun
}

type myInt int //å®šä¹‰äº†æ–°çš„æ•°æ®ç±»å‹myInt

type myFun func(int) string//å®šä¹‰äº†ä¸€ä¸ªæ–°çš„å‡½æ•°æ•°æ®ç±»å‹ï¼Œå½“ä¸€äº›å‡½æ•°çš„æ•°æ®ç±»å‹æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œå»ç®€åŒ–å†™æ³•

type intName = int //ç»™intèµ·äº†ä¸€ä¸ªåˆ«å

```

#### 3éæœ¬åœ°ç±»å‹ä¸èƒ½å®šä¹‰æ–¹æ³•

![image-20220615190503513](/Users/zwl/Desktop/note/ç¬”è®°/img/image-20220615190503513.png)



#### 4.ç»“æ„ä½“ä¸­åµŒå¥—æ—¶ä½¿ç”¨åˆ«å

![image-20220615190754561](/Users/zwl/Library/Application Support/typora-user-images/image-20220615190754561.png)

çœ‹è§†é¢‘å§ã€‚



### 7 errorç±»å‹

errorä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚goè‡ªå¸¦çš„ï¼Œgoæ²¡æœ‰try catchæœºåˆ¶ã€‚

```
æºç ä¸­errorçš„æ•°æ®ç±»å‹ main.error

erroræ˜¯ä¸€ä¸ªæ¥å£

type error interface {
	Error() string //Erroræ–¹æ³•ï¼Œä¼šåœ¨ä½¿ç”¨fmtæ‰“å°é”™è¯¯æ—¶ï¼Œå†…éƒ¨è‡ªåŠ¨è°ƒç”¨Erroræ–¹æ³•è·å–é”™è¯¯ä¿¡æ¯ã€‚
}
```

å¦‚æœå»è·å–é”™è¯¯ï¼Ÿ

1.é€šè¿‡æ–­è¨€çš„æ–¹å¼è‡ªå·±å»åº•å±‚çœ‹é”™è¯¯ç±»çš„å­—æ®µæœ‰å“ªäº›ï¼Œæ¯”å¦‚çœ‹åˆ°äº†åº•å±‚PathErroræ˜¯

```go
type PathError struct {
	Op   string
	Path string
	Err  error
}
å³å¯è®¿é—®å¯¹åº”çš„å­—æ®µï¼Œè·å–æ›´å¤šçš„é”™è¯¯ã€‚
```

![image-20220615213605076](../../img/image-20220615213605076.png)

2.æ–­è¨€å¾—çŸ¥é”™è¯¯çš„å…¶ä»–æ–¹æ³•ã€‚

![image-20220615213809551](../../img/image-20220615213809551.png)

3.ç›´æ¥æ¯”è¾ƒ

![image-20220615214049858](../../img/image-20220615214049858.png)



#### 7.1åˆ›å»ºé”™è¯¯

![image-20220615214638481](../../img/image-20220615214638481.png)



#### è‡ªå®šä¹‰é”™è¯¯

![image-20220615214800629](../../img/image-20220615214800629.png)



### 7.1å¼‚å¸¸panic å’Œrecover

panicä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡æŒ‚äº†ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨panicçš„æ³¨æ„äº‹é¡¹

![image-20230806181429406](../../img/image-20230806181429406.png)



recoverä¹‹åï¼Œpanicçš„ç¨‹åºä¼šç›´æ¥returnã€‚

![image-20230806181952455](../../img/image-20230806181952455.png)



### 8.sleep ç¨‹åºsleep

```
//7.ç¡çœ 
	time.Sleep(3 *time.Second) //è®©å½“å‰çš„ç¨‹åºè¿›å…¥ç¡çœ çŠ¶æ€
	fmt.Println("mainã€‚ã€‚ã€‚overã€‚ã€‚ã€‚ã€‚ã€‚")
```



## å‡½æ•°

### 1å‡½æ•°å…¶å®ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚

å‡½æ•°æ˜¯æ•°æ®ç±»å‹æ˜¯ï¼šfunc (int),  å¦‚æœæ˜¯åªå†™å‡½æ•°åï¼Œæ²¡æœ‰å°æ‹¬å·åˆ™å–çš„æ˜¯å‡½æ•°çš„å†…å­˜åœ°å€ã€‚



![image-20220613170935941](../../img/image-20220613170935941.png)



### 2 å‡½æ•°çš„å¯å˜å‚æ•°

1.å½“å‡½æ•°çš„å‚æ•°ä¸­ï¼Œé‡åˆ°ä¸ç¡®å®šå‡½æ•°çš„ä¸ªæ•°ï¼Œä½†å‚æ•°çš„ç±»å‹ä¸€è‡´å°±å¯ä»¥ç”¨å¯å˜å‚æ•°ã€‚

æ¯”å¦‚æ±‚å¤šä¸ªæ•´æ•°çš„å’Œ

```
package main

import "fmt"

func main() {

	getSum(1,2,3,4)

}

func getSum(num ... int) {
	fmt.Printf("%T",num)
	fmt.Println()

	sum := 0
	for _,value := range num {
		sum += value
	}
	fmt.Println(sum)
}

//è¾“å‡º
[]int //numæ˜¯åˆ‡ç‰‡ç±»å‹
10  //æ±‚å’Œæ˜¯10

```

å¯å˜å‚æ•°ï¼Œåªèƒ½æ”¾åœ¨å®šä¹‰å‡½æ•°æ—¶å‚æ•°çš„æœ€åé¢ï¼Œä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸­ï¼Œæœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å‚æ•°





### 3.é—­åŒ…å‡½æ•°

ä»€ä¹ˆæ˜¯é—­åŒ…å‡½æ•°ï¼Ÿ

å°±æ˜¯ä¸€ä¸ªå‡½æ•°aï¼ˆå¤–å±‚å‡½æ•°ï¼‰ä¸­çš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°bï¼ˆå†…å±‚å‡½æ•°ï¼‰ã€‚å‡½æ•°båˆ™ç§°ä¸ºé—­åŒ…å‡½æ•°ã€‚

å¦‚æœå‡½æ•°bä¸­ä½¿ç”¨äº†å‡½æ•°aï¼ˆå¤–å±‚å‡½æ•°ï¼‰ä¸­çš„å±€éƒ¨å˜é‡ï¼Œåˆ™å±€éƒ¨å˜é‡å’Œå‡½æ•°bï¼ˆå†…å±‚å‡½æ•°ï¼‰ç§°ä¸ºé—­åŒ…ç»“æ„ã€‚



é—­åŒ…ç»“æ„ä¸­çš„å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¼šå‘ç”Ÿæ”¹å˜ï¼Œæ­£å¸¸çš„å±€éƒ¨å˜é‡ä¼šéšç€å‡½æ•°çš„ç»“æŸè€Œé”€æ¯ã€‚ä½†é—­åŒ…ç»“æ„ä¸­çš„å±€éƒ¨å˜é‡ä¸ä¼šï¼Œå› ä¸ºå†…å±‚å‡½æ•°è¿˜è¦ç»§ç»­ä½¿ç”¨ã€‚æ¯”å¦‚ä¸‹é¢çš„i

 æ¯”å¦‚

```go
package main

import "fmt"
func main() {
	a := get1()
	fmt.Println(a) //2
	fmt.Printf("%T\n",a) //2

	res1 := a()
	fmt.Println(res1)
	res2 := a()
	fmt.Println(res2)
	res3 := a()
	fmt.Println(res3)

	b := get1() //bé‡æ–°è°ƒç”¨äº†get1ï¼Œè¿™é‡Œçš„iå’Œaä¸­çš„iä¸æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚è¿™é‡Œçš„iæ–°å¼€è¾Ÿäº†å†…å­˜åœ°å€ï¼Œæ‰€ä»¥iä»0å¼€å§‹ã€‚
	test1 := b()
	fmt.Println(test1)
}

func get1() func() int {
	i := 0
	fun := func () int{
		i++
		return i
	}
	return fun

}

//è¾“å‡º

0x10016da10
func() int

1
2
3

1


```



### 4.makeå‡½æ•°å’Œnewå‡½æ•°

makeå‡½æ•°ï¼Œç”¨æ¥åˆ›å»ºmapï¼ˆç±»ä¼¼äºphpçš„å…³è”æ•°ç»„ï¼‰ï¼Œåˆ‡ç‰‡ï¼Œchannelé€šé“

```
	åˆ›å»ºåˆ‡ç‰‡ï¼Œè¿”å›åˆ‡ç‰‡æ•°å€¼
	arr2 := make([]int,10)
	arr2[0]= 1
	arr2[1]= 2
	arr2[2]= 3

	åˆ›å»ºmapï¼Œè¿”å›mapæ•°å€¼
	map2 := make(map[string]string,10)
	map2["name"] = "allen"
	map2["addr"] = "china"
```



newå‡½æ•°ç”¨æ¥åˆ›å»ºå„ç§ç±»å‹çš„æŒ‡é’ˆ

```
	p2 := new(Person)   //ä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡å–çš„éƒ½æ˜¯é»˜è®¤å€¼ã€‚è€Œä¸æ˜¯ä¸€ä¸ªnilã€‚
	p2.name = "allen"
	p2.age = 20
	p2.address = "china"

	fmt.Printf("%p",p2)//0x14000062180{
	fmt.Println(*p2)//{allen 20 china}
```

![image-20220615104251696](../../img/image-20220615104251696.png)



## OOPé¢å‘å¯¹è±¡

Goè¯­â¾”â¾¯å‘å¯¹è±¡

1ã€Goå¹¶ä¸æ˜¯â¼€ä¸ªçº¯â¾¯å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­â¾”ã€‚åœ¨Goä¸­çš„â¾¯å‘å¯¹è±¡ï¼Œç»“æ„ä½“æ›¿ä»£äº†

ç±»ã€‚

Goå¹¶æ²¡æœ‰æä¾›ç±»classï¼Œä½†æ˜¯å®ƒæä¾›äº†ç»“æ„ä½“structï¼Œâ½…æ³•methodï¼Œå¯ä»¥

åœ¨ç»“æ„ä½“ä¸Šæ·»åŠ ã€‚æä¾›äº†æ†ç»‘æ•°æ®å’Œâ½…æ³•çš„â¾ä¸ºï¼Œè¿™äº›æ•°æ®å’Œâ½…æ³•ä¸ç±»ç±»

ä¼¼ã€‚

2ã€Goè¯­â¾”è®¾è®¡çš„â¾®å¸¸ç®€æ´ä¼˜é›…ï¼ŒGoæ²¡æœ‰æ²¿è¢­ä¼ ç»Ÿâ¾¯å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„è¯¸å¤šæ¦‚å¿µï¼Œ

â½å¦‚ç»§æ‰¿ã€è™šâ½…æ³•ã€æ„é€ â½…æ³•å’Œææ„â½…æ³•ã€thisç­‰ã€‚

Goä¸â½€æŒç»§æ‰¿ï¼Œå°½ç®¡åŒ¿åå­—æ®µçš„å†…å­˜å’Œâ¾ä¸ºç±»ä¼¼ç»§æ‰¿ï¼Œä½†æ˜¯å®ƒä¸æ˜¯ç»§

æ‰¿ã€‚

3ã€å°½ç®¡Goè¯­â¾”æ²¡æœ‰ç»§æ‰¿å’Œå¤šæ€ã€‚ä½†æ˜¯é€šè¿‡åˆ«çš„â½…å¼å®ç°ï¼š

ç»§æ‰¿ï¼šé€šè¿‡åŒ¿åå­—æ®µå®ç°

å¤šæ€ï¼šé€šè¿‡æ¥â¼å®ç°ã€‚



4ã€Goè¯­â¾”ä¸­å­¦ä¹ â¾¯å‘å¯¹è±¡ï¼Œä¸»è¦å­¦ä¹ ç»“æ„ä½“structã€â½…æ³•methodã€æ¥â¼

interfaceã€‚



```

```

éç»“æ„ä½“ä¹Ÿå¯ä»¥å®šä¹‰å¯¹åº”çš„æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾ã€‚

![image-20240517134810736](../../img/image-20240517134810736.png)



èšåˆæ€§ï¼ˆhas -> aï¼‰

```
type Person struct {
	name string 
	age int
	address Address//å‡ºç”Ÿåœ°å€
}f

type Address struct {
	city string
	home string
}

åœ¨ç»“æ„ä½“Personä¸­ï¼ŒåµŒå¥—äº†ä¸€ä¸ªAddressç»“æ„ä½“ã€‚person has a address  ï¼Œäººéƒ½æœ‰ä¸€ä¸ªå‡ºç”Ÿåœ°å€

```



ç»§æ‰¿æ€§(is -> a)

```
type Person struct {
	name string 
	age int
	address Address//å‡ºç”Ÿåœ°å€
}

type Boy struct {
	Person //ç»“æ„ä½“ä½œä¸ºåŒ¿åå­—æ®µ 
	sex string
}

ç»“æ„ä½“ä½œä¸ºåŒ¿åå­—æ®µ å¯æ¨¡æ‹Ÿç»§æ‰¿æ€§ã€‚ä»£è¡¨Boy is a Person


```



### æ–¹æ³•

goè¯­è¨€ä¸­çš„æ–¹æ³•å’Œå‡½æ•°ç±»ä¼¼

```go
package main

import "fmt"

func main() {

	address := Address{"shenzhen","512"}
	obj := Person{"allen",20,address}
	obj.getPersonInfo()
	address.getPersonInfo()

	//getPersonInfo() ä¼šæŠ¥å‡½æ•°ä¸å­˜åœ¨ï¼Œå› ä¸ºä¸‹é¢å®šä¹‰çš„éƒ½æ˜¯æ–¹æ³•ä¸æ˜¯å‡½æ•°ã€‚

	//æ–¹æ³•å’Œå‡½æ•°çš„åŒºåˆ«
	// 1.æ–¹æ³•å¯ä»¥é‡å 2.æ–¹æ³•å¿…é¡»æŒ‡æ˜è°ƒç”¨è€…ï¼Œæ¯”å¦‚func (obj Person) getPersonInfo()
}

//è¿™æ˜¯å®šä¹‰äº†æ–¹æ³•
func (obj Person) getPersonInfo() {
	fmt.Println("Person obj")
	fmt.Println(obj.name)
}
func (obj Address) getPersonInfo() {
	fmt.Println("Address obj")
	fmt.Println(obj.city)
}

type Person struct {
	name string
	age int
	Address
}

type Address struct {
	city string
	home string
}
```



## æ¥å£interface

### æ¥å£ä»‹ç»

```go
package main

import "fmt"

func main() {

	address := Address{"shenzhen", "512"}
	obj := Person{"allen", 20, address}

	address.test1()
	address.test()
	obj.test1()
	obj.test()

	var demo1 Demo
	demo1 = address
	demo1.test1()
	//demo1.city //ä¸èƒ½è®¿é—®ï¼Œå› ä¸ºcityæ˜¯addressç»“æ„ä½“çš„ï¼Œè€Œdemo1æ˜¯Demoçš„æ¥å£å¯¹è±¡ã€‚
  
  testInterface(address)
	testInterface(obj)
}

//è¿™æ˜¯å®šä¹‰äº†æ–¹æ³•
func (obj Person) test() {
	fmt.Println("person test interface")
	fmt.Println(obj.name)
}
func (obj Person) test1() {
	fmt.Println("person test1 interface")
	fmt.Println(obj.name)
}


func (obj Address) test() {
	fmt.Println("address test interface")
	fmt.Println(obj.city)
}
func (obj Address) test1() {
	fmt.Println("address test1 interface")
	fmt.Println(obj.city)
}

//å®šä¹‰ç»“æ„ä½“ï¼Œç›¸å½“äºç±»ã€‚å…¶ä»–è¯­è¨€ä¸­éœ€è¦æ˜¾ç¤ºçš„å®ç°Demoæ¥å£ã€‚æ¯”å¦‚phpä¸­éœ€è¦class Person implements Demoï¼Œä½†goä¸­ï¼Œä¸éœ€è¦è¿™æ ·ï¼Œåªè¦å®ç°äº†æ¥å£å¯¹åº”çš„æ–¹æ³•ï¼Œé‚£ä¹ˆæ­¤ç»“æ„ä½“å°±æ˜¯æ¥å£çš„å®ç°å¯¹è±¡ã€‚æ¯”å¦‚Personå’ŒAddressï¼Œéƒ½å®ç°äº†æ¥å£ä¸­çš„testå’Œtest1æ–¹æ³•ã€‚
type Person struct {
	name string
	age int
	Address
}

type Address struct {
	city string
	home string
}

//å®šä¹‰æ¥å£
type Demo interface {
	test()
	test1()
}

//éœ€è¦ä¸€ä¸ªDemoæ¥å£ç±»å‹çš„å®ç°ã€‚æ¯”å¦‚Personæˆ–è€…Addresså¯¹è±¡
func testInterface (d Demo) {
	d.test()
	d.test1()
}
```



å¦‚æœæŸä¸ªå‡½æ•°ï¼Œè¦æ±‚ä¼ å…¥ä¸€ä¸ªæ¥å£çš„å¯¹è±¡ã€‚é‚£ä¹ˆä¼ å…¥ä»»æ„ä¸€ä¸ªï¼Œæ¥å£çš„å®ç°å¯¹è±¡æ¥å£ã€‚æ¯”å¦‚è¦æ±‚ä¼ å…¥ä¸€ä¸ªDemoæ¥å£çš„ç±»å‹ã€‚ä¼ å…¥Personå¯¹è±¡æˆ–è€…Addresså¯¹è±¡éƒ½è¡Œã€‚



å¤šæ¥å£å®ç°

```go
package main

import "fmt"

func main()  {



	var dogObj Dog = &Animal{10}

	println(dogObj.say())

	var catObj Cat = &Animal{20}

	println(catObj.cute())

	//i am 10 year old
	//i am 20 year old and so cute


}
type Animal struct {
	age int
}

func (a *Animal) say() string {
	return fmt.Sprintf("i am %d year old", a.age)
}

func (a *Animal) cute() string {
	return fmt.Sprintf("i am %d year old and so cute", a.age)
}

type Dog interface {
	say() string
}

type Cat interface {
	cute() string
}

```



å¤šæ¥å£åµŒå¥—

```go
package main

import "fmt"

func main()  {



	var dogObj Dog = &Animal{10}

	println(dogObj.say())
	println(dogObj.eat())


	var catObj Cat = &Animal{20}

	println(catObj.cute())
	println(catObj.eat())

	//i am 10 year old
	//i am 10 year old and eat full
	//i am 20 year old and so cute
	//i am 20 year old and eat full



}
type Animal struct {
	age int
}

func (a *Animal) say() string {
	return fmt.Sprintf("i am %d year old", a.age)
}

func (a *Animal) cute() string {
	return fmt.Sprintf("i am %d year old and so cute", a.age)
}

func (a *Animal) eat() string {
	return fmt.Sprintf("i am %d year old and eat full", a.age)
}

type Dog interface {
	say() string
	Eat
}

type Cat interface {
	cute() string

	Eat
}

type Eat interface {
	eat() string
}


```



### ç©ºæ¥å£

å°±æ˜¯æ¥å£ä¸­ï¼Œæ²¡æœ‰ä»»ä½•çš„æ–¹æ³•

```
//ç©ºæ¥å£
type A interface {

}
```

â€‹	//ç©ºæ¥å£å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„æ•°æ®ã€‚å¤šç”¨åœ¨æ¥æ”¶ä»»æ„ç±»å‹æ•°æ®çš„åœ°æ–¹ã€‚æ¯”å¦‚å‡½æ•°å‚æ•°ï¼Œæ•°ç»„å…ƒç´ çš„ç±»å‹ï¼Œåˆ‡ç‰‡å…ƒç´ çš„ç±»å‹ï¼Œmapä¸­valueçš„ç±»å‹

```
package main

import "fmt"

func main() {
	var a A
	a = "hello"
	//ç©ºæ¥å£å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„æ•°æ®ã€‚å¤šç”¨åœ¨æ¥æ”¶ä»»æ„ç±»å‹æ•°æ®çš„åœ°æ–¹ã€‚æ¯”å¦‚å‡½æ•°å‚æ•°ï¼Œæ•°ç»„å…ƒç´ çš„ç±»å‹ï¼Œåˆ‡ç‰‡å…ƒç´ çš„ç±»å‹ï¼Œmapä¸­valueçš„ç±»å‹
	fmt.Println(a)

	var arr [3]interface{}
	arr[0] = 1
	arr[1] = "string"
	arr[2] = 1.11

	slice1 := make([]interface{},5,10)
	slice1[0] = 1
	slice1[1] = 1.11
	slice1[2] = "string"
	person := Address{"shenzhen","512"}
	slice1[3] = person

	map1 := make(map[string]interface{})
	map1["demo"] = "mike"
	map1["age"] = 20

	fmt.Println(arr)
	fmt.Println(slice1)
	fmt.Println(map1)
}


type Person struct {
	name string
	age int
	Address
}

type Address struct {
	city string
	home string
}

//ç©ºæ¥å£
type A interface {

}

//ç©ºæ¥å£
func anyType(a A) {

}

//aå‚æ•°åé¢éœ€è¦å†™ä¸€ä¸ªæ•°æ®ç±»å‹ã€‚å¦‚æœä¸æƒ³é™åˆ¶æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç›´æ¥å†™interface{}
func anyType1(a interface{}) {

}

```



æ¥å£åµŒå¥—ï¼ˆç»§æ‰¿ï¼‰

```
package main

import "fmt"

func main() {
	//var a A
	//a = "hello"//ç©ºæ¥å£å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„æ•°æ®ã€‚å¤šç”¨åœ¨æ¥æ”¶ä»»æ„ç±»å‹æ•°æ®çš„åœ°æ–¹ã€‚æ¯”å¦‚å‡½æ•°å‚æ•°ï¼Œæ•°ç»„å…ƒç´ çš„ç±»å‹ï¼Œåˆ‡ç‰‡å…ƒç´ çš„ç±»å‹ï¼Œmapä¸­valueçš„ç±»å‹
	//fmt.Println(a)
	a := Person{"allen",20}
	var d Demo
	d = a
	d.test1()
	d.test()

	var aa A
	aa = a
	aa.test2()
	//aa.test()//æŠ¥çº¢ï¼Œä¸èƒ½è°ƒç”¨testæ–¹æ³•ã€‚å› ä¸ºaaæ˜¯æ¥å£Açš„ç±»å‹ï¼Œè€Œtestæ–¹æ³•æ˜¯æ¥å£Demoçš„æ–¹æ³•ã€‚Demoä¸­æœ‰Aï¼Œç›¸å½“äºDemoç»§æ‰¿äº†Aï¼Œæ‰€ä»¥Demoå¯¹è±¡ï¼ˆdï¼‰å¯ä»¥è°ƒç”¨Açˆ¶ç±»çš„æ–¹æ³•ï¼Œè€Œ
	//çˆ¶ç±»å¯¹è±¡aa,ä¸èƒ½è°ƒç”¨å­ç±»æ–¹æ³•ï¼ˆtestï¼‰ï¼Œåªèƒ½è°ƒç”¨test2(çˆ¶ç±»æ–¹æ³•)
}

//è¿™æ˜¯å®šä¹‰äº†æ–¹æ³•
func (obj Person) test() {
	fmt.Println("person test interface")
	//fmt.Println(obj.name)
}
func (obj Person) test1() {
	fmt.Println("person test1 interface")
	//fmt.Println(obj.name)
}
func (obj Person) test2() {
	fmt.Println("person test2 interface")
	//fmt.Println(obj.name)
}
func (obj Person) test3() {
	fmt.Println("person test3 interface")
	//fmt.Println(obj.name)
}


func (obj Address) test() {
	fmt.Println("address test interface")
	fmt.Println(obj.city)
}
func (obj Address) test1() {
	fmt.Println("address test1 interface")
	fmt.Println(obj.city)
}

type Person struct {
	name string
	age int
	//Address
}

type Address struct {
	city string
	home string
}

type Demo interface {
	test()
	test1()
	A //ç»§æ‰¿äº†æ¥å£A
	B // ç»§æ‰¿äº†æ¥å£B
}

type A interface {
	test2()
}

type B interface {
	test3()
}

```



æç«¯æƒ…å†µä¸‹sliceçš„ç©ºæ¥å£é—®é¢˜

![image-20230810100552592](../../img/image-20230810100552592.png)



```
â”œâ”€â”€ applications åº”ç”¨ç›®å½•ï¼Œä¸»è¦å†™ä¸šåŠ¡çš„ç›®å½•
â”‚Â Â  â”œâ”€â”€ common å…¬å…±ç›®å½• å…¬å…±æ–‡ä»¶å­˜æ”¾ç›®å½• æå°‘ç”¨
â”‚Â Â  â”‚Â Â  â””â”€â”€ src
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Dialers
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Listeners
â”‚Â Â  â”‚Â Â      â””â”€â”€ Models
â”‚Â Â  â”œâ”€â”€ console å‘½ä»¤è¡Œç›®å½• å¤šç”¨äºè®¡åˆ’ä»»åŠ¡åœºæ™¯,æ¯ä¸ªè®¡åˆ’ä»»åŠ¡éƒ½æ˜¯ä¸€æ¡å‘½ä»¤
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ config ä¸»è¦é…ç½®å‘½ä»¤çš„è·¯å¾„å’Œå‚æ•°
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ runtime æ‰§è¡Œæ—¥å¿—
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ logs
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ 202305
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ 202306
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ 202307
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ 202308
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ src 
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Commands å­˜å‚¨ä¸šåŠ¡çš„å‘½ä»¤è¡Œæºç æ–‡ä»¶ 
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Libraries ç³»ç»Ÿåº•å±‚æ–‡ä»¶ï¼Œä¸ç”¨å¤ªå…³æ³¨ 
â”‚Â Â  â”‚Â Â  â””â”€â”€ template æ¨¡ç‰ˆæ–‡ä»¶ï¼Œæœ‰ä¸ªcreateModuleå‘½ä»¤ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆcurdä¸šåŠ¡ï¼Œéœ€è¦ç”¨åˆ°æ­¤æ¨¡ç‰ˆæ–‡ä»¶
â”‚Â Â  â”œâ”€â”€ doc å®ç°åŠŸèƒ½æŠ€æœ¯æ–¹æ¡ˆï¼Œç”¨æ¥è®°å½•å¼€å‘ä¸­è®¾è®¡çš„æ€è·¯ï¼Œé€»è¾‘ç­‰ï¼Œæ–¹ä¾¿åäººå­¦ä¹ ã€‚
â”‚Â Â  â”œâ”€â”€ http å®ç°httpæœåŠ¡ç›®å½•
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ config é…ç½®æ–‡ä»¶ ä¸»è¦æ˜¯httpd.php 
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ public 
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ export
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ static 
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ template æ¨¡ç‰ˆæ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯excelæ¨¡ç‰ˆ
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ runtime æ—¥å¿—
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ logs
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ 202304
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ 202305
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ 202306
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ 202307
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ 202308
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ src
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Components ç»„ä»¶
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Controllers æ§åˆ¶å™¨
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Business ç®¡ç†åå°æ§åˆ¶å™¨
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CommunityAdmin 
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Wx å¾®ä¿¡cç«¯æ§åˆ¶å™¨
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Libraries 
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Messages 
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Middleware ä¸­é—´ä»¶
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Validator éªŒè¯å™¨
â”‚Â Â  â”‚Â Â  â””â”€â”€ views è§†å›¾ å°‘ç”¨
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ errors
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ layouts
â”‚Â Â  â”‚Â Â      â””â”€â”€ profile
â”‚Â Â  â”œâ”€â”€ pposlib å…¬å¸ä¸“å±çš„ä¸šåŠ¡ä»£ç åŒ…
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Cache ç¼“å­˜å®ç°
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Config Config.phpæ˜¯è·¯ç”±æ–‡ä»¶
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Console å‘½ä»¤è¡Œçš„ä¸šåŠ¡çš„ä»£ç 
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Controllers æœ‰ä¸ªbaseæ§åˆ¶å™¨ï¼Œbaseæ˜¯å…¶ä»–ä¸šåŠ¡æ§åˆ¶å™¨ç»§æ‰¿çš„åŸºç¡€æ§åˆ¶å™¨
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DB æ•°æ®åº“å±‚
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Base æ“ä½œæ•°æ®åº“è¡¨çš„æ–‡ä»¶
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Orm å¯¹baseè¿›è¡Œäº†ä¸šåŠ¡çš„å°è£…
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Exception å°è£…çš„å¼‚å¸¸
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Helpers åŠ©æ‰‹æ–‡ä»¶ç›®å½• Functionsç±»æ˜¯å­˜æ”¾åŠ©æ‰‹å‡½æ•°çš„æ–‡ä»¶ï¼Œå…¶ä»–ç±»æ–‡ä»¶ä¹Ÿæ˜¯ç±»ä¼¼ä½œç”¨ã€‚
â”‚Â Â  â”‚Â Â  â””â”€â”€ Logic ä¸šåŠ¡é€»è¾‘å±‚
â”‚Â Â  â”œâ”€â”€ tcp tcpæœåŠ¡ ä¸€èˆ¬ä¸ç”¨ phpä¸»è¦æ˜¯å†™ä¸šåŠ¡é€»è¾‘ï¼Œtcpï¼Œudp,websocketè¿™äº›åº•å±‚æœåŠ¡ä¸€èˆ¬ç”¨go
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ config
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ runtime
â”‚Â Â  â”‚Â Â  â””â”€â”€ src
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Controllers
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Handlers
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Libraries
â”‚Â Â  â”‚Â Â      â””â”€â”€ Models
â”‚Â Â  â”œâ”€â”€ udp udpæœåŠ¡ ä¸€èˆ¬ä¸ç”¨
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ config
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ runtime
â”‚Â Â  â”‚Â Â  â””â”€â”€ src
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Controllers
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Handlers
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Libraries
â”‚Â Â  â”‚Â Â      â””â”€â”€ Models
â”‚Â Â  â””â”€â”€ websocket websocketæœåŠ¡ ä¸€èˆ¬ä¸ç”¨
â”‚Â Â      â”œâ”€â”€ config
â”‚Â Â      â”œâ”€â”€ runtime
â”‚Â Â      â””â”€â”€ src
â”‚Â Â          â”œâ”€â”€ Components
â”‚Â Â          â”œâ”€â”€ Controllers
â”‚Â Â          â”œâ”€â”€ Handlers
â”‚Â Â          â”œâ”€â”€ Interceptors
â”‚Â Â          â”œâ”€â”€ Libraries
â”‚Â Â          â”œâ”€â”€ Middleware
â”‚Â Â          â””â”€â”€ Models
â”œâ”€â”€ bin æ¡†æ¶çš„å…¥å£æ–‡ä»¶
â”‚Â Â          
â”‚Â Â          
â”‚Â Â          
â”œâ”€â”€start-local.sh æ¡†æ¶çš„å¯åŠ¨shè„šæœ¬ï¼Œæœ¬åœ°ç¯å¢ƒï¼Œstart-pro.shæ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œå…¶ä»–ç¯å¢ƒç±»ä¼¼
â”œâ”€â”€.local æœ¬åœ°ç¯å¢ƒçš„é…ç½®


ç§æœ‰åº“
```



### æ¥å£æ–­è¨€

//åˆ¤æ–­ç±»å‹ã€‚

æ¯”å¦‚ä¸‹é¢ï¼šä¸çŸ¥é“è¿™ä¸ªdæ˜¯è°ƒç”¨çš„Personçš„testè¿˜æ˜¯Addressçš„testï¼Œè¿˜æ˜¯å®ç°å¯¹è±¡çš„æŒ‡é’ˆç±»å‹ï¼Ÿ,æ­¤æ—¶å¯ä»¥é€šè¿‡æ–­è¨€çš„æ–¹å¼çŸ¥é“ã€‚

```go
package main

import (
	"fmt"
)

func main() {

	//instance := Person{"allen",20}
	address := Address{"allen","512"}
	var instance *Address = &address //ä¹Ÿå¯ä»¥æ˜¯å®ç°ç±»çš„æŒ‡é’ˆç±»å‹
	fmt.Println(instance)
	getType(instance)
}

func getType(d Demo) {
	//ä¸çŸ¥é“è¿™ä¸ªdæ˜¯è°ƒç”¨çš„Personçš„testè¿˜æ˜¯Addressçš„testï¼Œè¿˜æ˜¯å®ç°å¯¹è±¡çš„æŒ‡é’ˆç±»å‹ï¼Ÿ,æ­¤æ—¶å¯ä»¥é€šè¿‡æ–­è¨€çš„æ–¹å¼çŸ¥é“ã€‚
	//d.test()

	if instance,ok :=  d.(Person); ok{
		instance.test()
	} else if instance,ok :=  d.(Address); ok {
		instance.test()
	} else if _,ok :=  d.(*Address); ok {
		fmt.Println("æŒ‡é’ˆç±»å‹...")
	}else  {
		fmt.Println("unknow...")
	}

	//switch instance := d.(type) {
	//case Person:
	//	instance.test()
	//case Address:
	//	instance.test()
	//case *Address:
	//	fmt.Println("address p...")
	//default:
	//	fmt.Println("unknow...")
	//}

}

//è¿™æ˜¯å®šä¹‰äº†æ–¹æ³•
func (obj Person) test() {
	fmt.Println("person test interface")
	//fmt.Println(obj.name)
}
func (obj Person) test1() {
	fmt.Println("person test1 interface")
	//fmt.Println(obj.name)
}
func (obj Person) test2() {
	fmt.Println("person test2 interface")
	//fmt.Println(obj.name)
}
func (obj Person) test3() {
	fmt.Println("person test3 interface")
	//fmt.Println(obj.name)
}


func (obj Address) test() {
	fmt.Println("address test interface")
	fmt.Println(obj.city)
}
func (obj Address) test1() {
	fmt.Println("address test1 interface")
	fmt.Println(obj.city)
}

type Person struct {
	name string
	age int
	//Address
}

type Address struct {
	city string
	home string
}

type Demo interface {
	test()
	test1()
}


```



![image-20230810094349807](../../img/image-20230810094349807.png)



## forå¾ªç¯

###  Continueçš„labelæ“ä½œ

```go
package main

import "fmt"

func main() {

    // ä¸ä½¿ç”¨æ ‡è®°
    fmt.Println("---- continue ---- ")
    for i := 1; i <= 3; i++ {
        fmt.Printf("i: %d\n", i)
            for i2 := 11; i2 <= 13; i2++ {
                fmt.Printf("i2: %d\n", i2)
                continue
            }
    }

    // ä½¿ç”¨æ ‡è®°
    fmt.Println("---- continue label ----")
    re:
        for i := 1; i <= 3; i++ {
            fmt.Printf("i: %d\n", i)
                for i2 := 11; i2 <= 13; i2++ {
                    fmt.Printf("i2: %d\n", i2)
                    continue re//ä¼šè·³åˆ°ä¸Šå±‚å¾ªç¯ï¼ˆiï¼‰çš„ä¸‹ä¸€æ¬¡å¾ªç¯(i==2)ä¸­ã€‚
                }
        }
}

è¾“å‡º
---- continue ---- 
i: 1
i2: 11
i2: 12
i2: 13
i: 2
i2: 11
i2: 12
i2: 13
i: 3
i2: 11
i2: 12
i2: 13
---- continue label ----
i: 1
i2: 11
i: 2
i2: 11
i: 3
i2: 11
```



## goå¯¼å…¥æ–°åŒ…åï¼Œéœ€è¦æ›´æ–°ä¾èµ–

å‘½ä»¤ï¼šsudo go mod tidy



## æ—¥å¸¸å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„æ“ä½œ



```go
package main

import (
	"encoding/json"
	"fmt"
	"math/rand"
	"strconv"
	"strings"
	"sync"
	"time"
)

func main() {

	type JsonTest struct {
		Name string
		Age  int64
	}
	jsonTestMap := map[string]interface{}{"name": "å¼ æ–‡æ—ğŸ˜„", "age": 10}

	JsonTestStruct := JsonTest{
		Name: "å¼ æ–‡æ—ğŸ˜„",
		Age:  10,
	}

	////å¦‚ä½•è§£æjson
	//jsonStr := "{\"name\":\"å¼ æ–‡æ—ğŸ˜„\",\"age\":10}"

	JsonTestStructSlice, err := json.Marshal(JsonTestStruct)
	if err != nil {
		fmt.Println("JsonTestStruct json marshal err:", err.Error())
		return
	}
	fmt.Println("JsonTestStructSlice json :", JsonTestStructSlice)
	fmt.Println(string(JsonTestStructSlice))

	jsonTestMapSlice, err := json.Marshal(jsonTestMap)
	if err != nil {
		fmt.Println("json marshal err:", err.Error())
		return
	}
	fmt.Println("jsonTestMapSlice json :", jsonTestMapSlice)
	fmt.Println(string(jsonTestMapSlice))

	//json å¦‚ä½•è·å–ä¸€ä¸ªjson
	JsonTestStructTwo := new(JsonTest)
	err = json.Unmarshal(JsonTestStructSlice, JsonTestStructTwo)
	if err != nil {
		fmt.Println("json unmarshal err:", err.Error())
		return
	}
	fmt.Println(JsonTestStructTwo)

	jsonTestMapTwo := map[string]interface{}{}

	err = json.Unmarshal(jsonTestMapSlice, &jsonTestMapTwo)
	if err != nil {
		fmt.Println("map json unmarshal err:", err.Error())
		return
	}
	fmt.Println(jsonTestMapTwo)

	fmt.Println("-------------")

	//æ•°ç»„çš„ç²˜åˆ å’Œ å­—ç¬¦ä¸²çš„åˆ‡å‰²æˆæ•°ç»„
	array1 := []string{"1", "2", "3", "4", "5"}
	array1Str := strings.Join(array1, ",")
	fmt.Println(array1Str)

	array1Slice := strings.Split(array1Str, ",")
	fmt.Println(array1Slice)
	fmt.Println("-------------")

	//è·å–äºŒä½æ•°ç»„ä¸­çš„æŸä¸€åˆ—

	type User struct {
		Name string
		Age  int64
	}

	type UserList []User

	twoSlice := make(UserList, 0)

	twoSlice = append(twoSlice, User{Name: "zwl", Age: 10}, User{Name: "yxj", Age: 11})

	fmt.Println(twoSlice)

	NameSlice := make([]string, 0)
	AgeSlice := make([]int64, 0)
	for _, v := range twoSlice {
		NameSlice = append(NameSlice, v.Name)
		AgeSlice = append(AgeSlice, v.Age)
	}
	fmt.Println(NameSlice)
	fmt.Println(AgeSlice)
	fmt.Println("-------------")

	//æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨æ•°ç»„å†…
	var str1 = "6"
	slice1124 := []string{"1", "2", "3", "4", "5"}
	isTrue := false
	for _, v := range slice1124 {
		if v == str1 {
			isTrue = true
			break
		}
	}
	fmt.Println(isTrue)

	tmpMap := make(map[string]bool)
	for _, v := range slice1124 {
		tmpMap[v] = true
	}

	if v, ok := tmpMap[str1]; ok {
		fmt.Println(v)
		fmt.Println("str1 åœ¨ slice1124")
	} else {
		//
		fmt.Println("str1 ä¸åœ¨ slice1124")
	}
	fmt.Println("-------------")

	//æ•°ç»„å»é‡

	sliceRepeat := []string{"1", "1", "8", "3", "2", "5", "zw", "dq", "zw", "1"}
	repeatMap := make(map[string]bool)
	for _, v := range sliceRepeat {
		repeatMap[v] = true
	}

	var newRepeat []string
	for k, _ := range repeatMap {
		newRepeat = append(newRepeat, k)
	}
	fmt.Println(sliceRepeat)
	fmt.Println(newRepeat)
	fmt.Println("-------------")

	//æ•°ç»„åˆå¹¶
	mergeSlice1 := []string{"1", "2", "3"}
	mergeSlice2 := []string{"4", "5", "6"}
	mergeSlice3 := append(mergeSlice2, mergeSlice1...)
	fmt.Println(mergeSlice3)

	//æ•°ç»„å¢åŠ  //æ•°ç»„æˆªå–
	var newRepeatTwo []string
	newRepeatTwo = append(newRepeatTwo, "1")
	newRepeatTwo = append(newRepeatTwo, "2", "3")
	newRepeatTwo = append(newRepeatTwo, "4", "5")
	fmt.Println(newRepeatTwo)

	// k
	index := 2
	subSlice1 := newRepeatTwo[:index]
	subSlice2 := newRepeatTwo[index+1:]
	fmt.Println(subSlice1)
	fmt.Println(subSlice2)
	fmt.Println("-------------")

	//æ•°ç»„æ±‚å·®é›† æ±‚äº¤é›† æ±‚å¹¶é›†

	slice1 := []string{"1", "2", "3"}
	slice2 := []string{"3", "4", "1"}
	// è®¡ç®—å¹¶é›†
	unionResult := union(slice1, slice2)
	fmt.Println("Union:", unionResult)

	// è®¡ç®—äº¤é›†
	intersectionResult := intersection(slice1, slice2)
	fmt.Println("Intersection:", intersectionResult)

	// è®¡ç®—å·®é›†
	differenceResult := difference(slice1, slice2)
	fmt.Println("Difference:", differenceResult)
	fmt.Println("-------------")
	//è·å–å½“å‰æ—¶é—´æˆ³ ç§’çº§ è·å–å½“å‰æ¯«ç§’æ—¶é—´æˆ³

	nowTimeSecond := time.Now().Unix()
	fmt.Println(nowTimeSecond)

	nowTimeHaoMiao := time.Now().UnixMilli()
	fmt.Println(nowTimeHaoMiao)
	fmt.Println("-------------")

	//è·å–å½“å‰æ—¥æœŸï¼Œæ—¥æœŸå¦‚ä½•è½¬æ—¶é—´æˆ³ æ—¶é—´æˆ³å¦‚ä½•è½¬æˆæ—¥æœŸ

	today := time.Now().Format("2006-01-02 15:04:05")
	fmt.Println(today)

	timeType := time.Unix(nowTimeSecond, 0)
	todayDate := timeType.Format("2006-01-02")
	fmt.Println(todayDate)

	timeTime, _err := time.Parse("2006-01-02", "2024-06-07")
	if _err != nil {
		fmt.Println(_err)
	}
	fmt.Println(timeTime.Unix())
	fmt.Println("-------------")

	//å„ç§ç±»å‹å˜é‡çš„è½¬åŒ–
	//å¦‚ä½•å°†int è½¬æˆ string
	fmt.Println(strconv.Itoa(123))

	fmt.Println(strconv.FormatFloat(100.123, 'f', 6, 64))

	var int64Value int64 = 100
	fmt.Println(strconv.FormatInt(int64Value, 10))
	fmt.Println("-------------")

	//å¦‚ä½•å»ä¸¤è¾¹çš„ç©ºç™½
	trimstr := "  13  zwf  "
	trimstr1 := ",  13  zwf  ,"
	fmt.Println(strings.Trim(trimstr, " "))
	fmt.Println(strings.Trim(trimstr1, ","))
	fmt.Println("-------------")

	//å­—ç¬¦ä¸²å¦‚ä½•åŒ…å«ç‰¹å®š
	strContain := "hello world zwl"
	fmt.Println(strings.Contains(strContain, "zwl1"))
	fmt.Println(strings.Contains(strContain, "zwl"))
	fmt.Println(strings.Contains(strContain, " "))
	fmt.Println("-------------")

	//å¦‚ä½•ç”Ÿæˆä¸€ä¸ªéšæœºæ•° 0,9  1~100
	var maxInt int = 100
	var minInt int = 1
	rand.Seed(time.Now().UnixNano())
	randInt := rand.Intn(maxInt-minInt+1) + minInt
	fmt.Println(randInt)

}

// è¿”å›ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡çš„å¹¶é›†
func union(slice1, slice2 []string) []string {
	unique := make(map[string]bool)
	result := []string{}

	for _, item := range slice1 {
		if !unique[item] {
			unique[item] = true
			result = append(result, item)
		}
	}

	for _, item := range slice2 {
		if !unique[item] {
			unique[item] = true
			result = append(result, item)
		}
	}

	return result
}

// è¿”å›ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡çš„äº¤é›†
func intersection(slice1, slice2 []string) []string {
	unique := make(map[string]bool)
	result := []string{}

	for _, item := range slice1 {
		unique[item] = true
	}

	for _, item := range slice2 {
		if unique[item] {
			result = append(result, item)
		}
	}

	return result
}

// è¿”å›ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡çš„å·®é›†ï¼ˆslice1 ä¸­æœ‰ä½† slice2 ä¸­æ²¡æœ‰çš„å…ƒç´ ï¼‰
func difference(slice1, slice2 []string) []string {
	unique := make(map[string]bool)
	result := []string{}

	for _, item := range slice2 {
		unique[item] = true
	}

	for _, item := range slice1 {
		if !unique[item] {
			result = append(result, item)
		}
	}

	return result
}

```



